var async = require('async'),
    net = require('net'),
    redis = require('redis'),
    redisClient = redis.createClient();

net.createServer(function(socket) {
    socket.on('data', function(data) {
        console.log("DATA: " + data.toString());
        var task = data.toString();

        redisClient.rpush('tasks', task, function(err, result) {
            if(err) throw err;
        });
    });
    socket.on('end', function() {

    });
    socket.write('Welcome!');

}).listen(1111);
